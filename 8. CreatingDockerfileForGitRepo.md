# Git repo synced Dockerfile

The follwing steps guides developers to build an image which will fetch the code from the github to sync
These steps are for my  own  repository  and expects a  node server  application. However, if concept is 
understood then there should be no problem replicating the same for other apps too.

1. Define the run time environment or the base image.
   
   ```
   FROM node:20-alpine
   ```
   
3. Define the workdir
   
   ```
   WORKDIR /app
   ```
   
4. Install git using docker pakage manager
   
   ```
   RUN apk add --no-cache git
   ```
   
5. Clone the git repo
   
   ```
   RUN git clone https://github.com/AniJadeja/luxe-wheels-backend.git 
   ```
   
6. change the workdir to the downloaded repo
   
   ```
   WORKDIR /mplus/luxe-wheels-backend
   ```

7. Make sure that it has `package.json` which will be required to install the modules
   
   ```
   RUN test -f package.json || { echo "Error: package.json not found in repository"; exit 1; }
   ```

8. Install the modules
   
   ```
   RUN npm install
   ```

9. Expose the port, in my case it is 10000
   
   ```
   EXPOSE 10000
   ```

10. Copy the required files which are not in the git repo
    
   ```
   COPY .env .
   COPY serviceAccountKey.json .
   ```
   
11. Start the server when container is run
    
   ```
   CMD ["npm", "run", "dev"]
   ```  
